# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ Unicode –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è!

## üö® **–ü—Ä–æ–±–ª–µ–º–∞:**
**`Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.`**

## üîç **–ê–Ω–∞–ª–∏–∑ Senior —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:**

### **–ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏:**
–§—É–Ω–∫—Ü–∏—è `btoa()` –≤ JavaScript –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å Unicode —Å–∏–º–≤–æ–ª—ã (–∫–∏—Ä–∏–ª–ª–∏—Ü—É, —ç–º–æ–¥–∑–∏ –∏ —Ç.–¥.). –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å —Ä—É—Å—Å–∫–∏–µ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ base64 –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∞ –æ—à–∏–±–∫–∞.

### **–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥:**
```javascript
// ‚ùå –ü–†–û–ë–õ–ï–ú–ù–´–ô –ö–û–î
generateToken(user) {
    const payload = {
        id: user.id,
        email: user.email,
        name: user.name, // ‚Üê –†—É—Å—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã!
        role: user.role,
        exp: Date.now() + (24 * 60 * 60 * 1000)
    };
    
    return btoa(JSON.stringify(payload)); // ‚Üê –û—à–∏–±–∫–∞!
}
```

## üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

### **–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `encodeURIComponent()` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è Unicode —Å–∏–º–≤–æ–ª–æ–≤ –ø–µ—Ä–µ–¥ `btoa()`:

```javascript
// ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ö–û–î
generateToken(user) {
    const payload = {
        id: user.id,
        email: user.email,
        name: user.name, // ‚Üê –†—É—Å—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è!
        role: user.role,
        exp: Date.now() + (24 * 60 * 60 * 1000)
    };
    
    const jsonString = JSON.stringify(payload);
    return btoa(encodeURIComponent(jsonString)); // ‚Üê –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ!
}
```

### **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ `public/js/auth/simple-auth.js`:**

1. **–§—É–Ω–∫—Ü–∏—è `generateToken`:**
   - –î–æ–±–∞–≤–∏–ª `encodeURIComponent()` –ø–µ—Ä–µ–¥ `btoa()`
   - –¢–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª—é–±—ã–µ Unicode —Å–∏–º–≤–æ–ª—ã

2. **–§—É–Ω–∫—Ü–∏—è `parseToken`:**
   - –î–æ–±–∞–≤–∏–ª `decodeURIComponent()` –ø–æ—Å–ª–µ `atob()`
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç Unicode —Å–∏–º–≤–æ–ª—ã

## ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ —Å —Ä—É—Å—Å–∫–∏–º–∏ –∏–º–µ–Ω–∞–º–∏
- ‚ùå `btoa()` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª Unicode
- ‚ùå –ö—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä —Å –æ—à–∏–±–∫–æ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö Unicode —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –†—É—Å—Å–∫–∏–µ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞

## üöÄ **–°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è:**
- **–í—Ä–µ–º—è:** $(Get-Date -Format "yyyy-MM-dd HH:mm:ss")
- **–ü—Ä–æ–µ–∫—Ç:** workincz-759c7
- **URL:** https://workclick-cz.web.app
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ

## üéØ **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

### **–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**
- **–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞:** –°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω
- **–ö–∏—Ä–∏–ª–ª–∏—Ü–∞:** –†—É—Å—Å–∫–∏–µ, —É–∫—Ä–∞–∏–Ω—Å–∫–∏–µ, –±–µ–ª–æ—Ä—É—Å—Å–∫–∏–µ –∏–º–µ–Ω–∞
- **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã:** –≠–º–æ–¥–∑–∏, –¥–∏–∞–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞–∫–∏
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –†–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

### **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
1. **TextEncoder/TextDecoder** - –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
2. **Buffer.from()** - –¥–ª—è Node.js –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** - –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

## üéâ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:**

–û—à–∏–±–∫–∞ Unicode –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! 

**–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:**
- ‚úÖ –†—É—Å—Å–∫–∏–µ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –õ—é–±—ã–µ Unicode —Å–∏–º–≤–æ–ª—ã
- ‚úÖ –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—É—é –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É —Ç–æ–∫–µ–Ω–æ–≤

**–°—Ç–∞—Ç—É—Å:** üü¢ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É 