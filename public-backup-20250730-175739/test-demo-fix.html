<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–µ–º–æ-–≤—Ö–æ–¥–∞ - WorkInCZ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <!-- Firebase SDK v10 (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–Ω–æ–Ω–∏–º–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body class="bg-gray-50">
    <div class="min-h-screen flex items-center justify-center">
        <div class="max-w-md w-full bg-white rounded-xl shadow-lg p-8">
            <div class="text-center mb-8">
                <h1 class="text-2xl font-bold text-gray-900 mb-2">üß™ –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–µ–º–æ-–≤—Ö–æ–¥–∞</h1>
                <p class="text-gray-600">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ–±–ª–µ–º—ã —Å –≤—ã–±—Ä–æ—Å–æ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é</p>
            </div>

            <div class="space-y-4">
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h3 class="font-semibold text-blue-900 mb-2">üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</h3>
                    <ul class="text-sm text-blue-800 space-y-1">
                        <li>‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã URL –¥–∞—à–±–æ—Ä–¥–æ–≤ (.html)</li>
                        <li>‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏</li>
                        <li>‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
                        <li>‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω—ã –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã</li>
                    </ul>
                </div>

                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                    <h3 class="font-semibold text-yellow-900 mb-2">‚ö†Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</h3>
                    <p class="text-sm text-yellow-800">
                        –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–º–æ-–≤—Ö–æ–¥–∞. 
                        –î–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –±–µ–∑ –≤—ã–±—Ä–æ—Å–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é.
                    </p>
                </div>

                <div class="grid grid-cols-1 gap-3">
                    <button 
                        onclick="testDemoLogin('candidate')"
                        class="w-full bg-primary text-white py-3 px-4 rounded-lg font-medium hover:bg-primary/90 transition-colors flex items-center justify-center gap-2"
                    >
                        <i class="ri-user-line"></i>
                        –¢–µ—Å—Ç: –î–µ–º–æ-–≤—Ö–æ–¥ –°–æ–∏—Å–∫–∞—Ç–µ–ª—å
                    </button>
                    
                    <button 
                        onclick="testDemoLogin('client')"
                        class="w-full bg-secondary text-white py-3 px-4 rounded-lg font-medium hover:bg-secondary/90 transition-colors flex items-center justify-center gap-2"
                    >
                        <i class="ri-building-line"></i>
                        –¢–µ—Å—Ç: –î–µ–º–æ-–≤—Ö–æ–¥ –†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å
                    </button>
                    
                    <button 
                        onclick="testDemoLogin('agency')"
                        class="w-full bg-success text-white py-3 px-4 rounded-lg font-medium hover:bg-success/90 transition-colors flex items-center justify-center gap-2"
                    >
                        <i class="ri-team-line"></i>
                        –¢–µ—Å—Ç: –î–µ–º–æ-–≤—Ö–æ–¥ –ê–≥–µ–Ω—Ç—Å—Ç–≤–æ
                    </button>
                </div>

                <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                    <h3 class="font-semibold text-gray-900 mb-2">üìä –°—Ç–∞—Ç—É—Å:</h3>
                    <div id="status" class="text-sm text-gray-700">
                        –û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è...
                    </div>
                </div>

                <div class="text-center">
                    <a href="/" class="text-primary hover:underline text-sm">
                        ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase Config -->
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
            authDomain: "workincz-site.firebaseapp.com",
            projectId: "workincz-site",
            storageBucket: "workincz-site.appspot.com",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:abcdef123456"
        };
        firebase.initializeApp(firebaseConfig);
    </script>

    <!-- Scripts -->
    <script src="js-hashed/firebase-init.a9f4627c.js"></script>
    <script src="js-hashed/auth-manager.2e0661bb.js"></script>
    <script src="js-hashed/demo-login-system.f9518e6f.js"></script>
    <script src="js-hashed/role-middleware.4b8163dc.js"></script>

    <script>
        function updateStatus(message, type = 'info') {
            const statusEl = document.getElementById('status');
            const colors = {
                info: 'text-gray-700',
                success: 'text-green-700',
                error: 'text-red-700',
                warning: 'text-yellow-700'
            };
            
            statusEl.className = `text-sm ${colors[type]}`;
            statusEl.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
        }

        async function testDemoLogin(role) {
            try {
                updateStatus(`–ù–∞—á–∏–Ω–∞—é —Ç–µ—Å—Ç –¥–µ–º–æ-–≤—Ö–æ–¥–∞ –¥–ª—è —Ä–æ–ª–∏: ${role}`, 'info');
                
                // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –¥–µ–º–æ-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
                localStorage.removeItem('demoAuth');
                
                // –ñ–¥–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                if (!window.demoLoginSystem) {
                    throw new Error('DemoLoginSystem –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
                }
                
                updateStatus(`DemoLoginSystem –Ω–∞–π–¥–µ–Ω, –∑–∞–ø—É—Å–∫–∞—é –¥–µ–º–æ-–≤—Ö–æ–¥...`, 'info');
                
                // –°–æ–∑–¥–∞–µ–º –¥–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é
                const demoAccounts = {
                    candidate: {
                        email: 'demo-candidate@workincz.cz',
                        name: '–î–µ–º–æ –°–æ–∏—Å–∫–∞—Ç–µ–ª—å',
                        role: 'candidate',
                        stats: { applications: 5, savedJobs: 12, profileViews: 23 }
                    },
                    client: {
                        email: 'demo-client@workincz.cz', 
                        name: '–î–µ–º–æ –†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å',
                        role: 'client',
                        stats: { postedJobs: 8, receivedApplications: 45, activeContracts: 3 }
                    },
                    agency: {
                        email: 'demo-agency@workincz.cz',
                        name: '–î–µ–º–æ –ê–≥–µ–Ω—Ç—Å—Ç–≤–æ',
                        role: 'agency',
                        stats: { completedContracts: 15, activeRequests: 3, rating: 4.8 }
                    }
                };
                
                const demoAccount = demoAccounts[role];
                if (!demoAccount) {
                    throw new Error('–î–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω');
                }
                
                updateStatus(`–°–æ–∑–¥–∞—é –¥–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç –¥–ª—è ${demoAccount.name}...`, 'info');
                
                // –°–æ–∑–¥–∞–µ–º –∏–ª–∏ –ø–æ–ª—É—á–∞–µ–º –¥–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const user = await window.demoLoginSystem.ensureDemoUser(demoAccount);
                
                updateStatus(`–î–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω, –≤—ã–ø–æ–ª–Ω—è—é –≤—Ö–æ–¥...`, 'info');
                
                // –í—Ö–æ–¥–∏–º –≤ —Å–∏—Å—Ç–µ–º—É
                await window.demoLoginSystem.signInDemoUser(user);
                
                updateStatus(`–î–µ–º–æ-–≤—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é...`, 'success');
                
                // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –¥–∞—à–±–æ—Ä–¥
                setTimeout(() => {
                    window.demoLoginSystem.redirectToDashboard(role);
                }, 1000);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:', error);
                updateStatus(`–û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            updateStatus('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, —Å–∏—Å—Ç–µ–º—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è...', 'info');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º
            setTimeout(() => {
                const systems = {
                    'Firebase': typeof firebase !== 'undefined',
                    'AuthManager': !!window.authManager,
                    'DemoLoginSystem': !!window.demoLoginSystem,
                    'RoleMiddleware': !!window.roleMiddleware
                };
                
                const status = Object.entries(systems)
                    .map(([name, loaded]) => `${name}: ${loaded ? '‚úÖ' : '‚ùå'}`)
                    .join(', ');
                
                updateStatus(`–°–∏—Å—Ç–µ–º—ã: ${status}`, 'info');
            }, 2000);
        });
    </script>
</body>
</html> 