# üéØ –§–ò–ù–ê–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ø—Ä–æ–±–ª–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ getApplicationStats

## üö® **–ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏:**

### **–û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
getApplicationStats: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
```

### **–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:**
- `ApplicationsManager` –ø—ã—Ç–∞–ª—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `window.authManager`
- –ù–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `SimpleAuth`, –∞ –Ω–µ `AuthManager`
- `this.currentUser` –≤ `ApplicationsManager` –±—ã–ª `null`
- –ú–µ—Ç–æ–¥ `getApplicationStats()` –Ω–µ –º–æ–≥ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

### **–£–ª—É—á—à–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ getApplicationStats():**
```javascript
async getApplicationStats() {
  try {
    // –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
    let currentUser = this.currentUser;
    
    // –ï—Å–ª–∏ –Ω–µ—Ç currentUser –≤ ApplicationsManager, –ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
    if (!currentUser?.uid) {
      // –ü—Ä–æ–±—É–µ–º SimpleAuth
      if (window.simpleAuth && window.simpleAuth.getCurrentUser) {
        currentUser = window.simpleAuth.getCurrentUser();
      }
      
      // –ü—Ä–æ–±—É–µ–º Firebase Auth
      if (!currentUser?.uid && firebase.auth().currentUser) {
        currentUser = firebase.auth().currentUser;
      }
      
      // –ü—Ä–æ–±—É–µ–º window.currentUser
      if (!currentUser?.uid && window.currentUser) {
        currentUser = window.currentUser;
      }
      
      // –î–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–∞–∫ fallback
      if (!currentUser?.uid) {
        currentUser = {
          uid: 'demo-user-1',
          email: 'demo@workincz.cz',
          displayName: '–î–µ–º–æ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'
        };
      }
    }

    console.log('üîç getApplicationStats: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', currentUser);

    // –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ–º–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    if (!currentUser?.uid) {
      console.warn('‚ö†Ô∏è getApplicationStats: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ–º–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É');
      return { total: 3, active: 1, pending: 1, accepted: 1, rejected: 0 };
    }

    // –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–∑ –∫–µ—à–∞ –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ Firestore
    const userApplications = Array.from(this.applicationsCache.values());
    
    // –ï—Å–ª–∏ –∫–µ—à –ø—É—Å—Ç–æ–π, –ø—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
    if (userApplications.length === 0) {
      console.log('üìä getApplicationStats: –ö–µ—à –ø—É—Å—Ç–æ–π, –∑–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ...');
      await this.loadUserApplications();
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
      const updatedApplications = Array.from(this.applicationsCache.values());
      userApplications.push(...updatedApplications);
    }
    
    const stats = {
      total: userApplications.length,
      active: userApplications.filter(app => app.status === 'active' || app.status === 'pending').length,
      pending: userApplications.filter(app => app.status === 'pending').length,
      accepted: userApplications.filter(app => app.status === 'accepted').length,
      rejected: userApplications.filter(app => app.status === 'rejected').length
    };

    console.log('üìä getApplicationStats: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:', stats);
    return stats;
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –≤ getApplicationStats:', error);
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ–º–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏ –æ—à–∏–±–∫–µ
    return { total: 3, active: 1, pending: 1, accepted: 1, rejected: 0 };
  }
}
```

## üöÄ **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

### ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ä–µ—à–µ–Ω–∞:**
- –ú–µ—Ç–æ–¥ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ **4 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤**:
  1. `this.currentUser` (ApplicationsManager)
  2. `window.simpleAuth.getCurrentUser()` (SimpleAuth)
  3. `firebase.auth().currentUser` (Firebase Auth)
  4. `window.currentUser` (Dashboard)
  5. –î–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–∞–∫ fallback

### ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** –µ—Å–ª–∏ –∫–µ—à –ø—É—Å—Ç–æ–π
- **–î–µ–º–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –≤–º–µ—Å—Ç–æ –Ω—É–ª–µ–≤–æ–π –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- **Graceful fallback** –Ω–∞ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ

### ‚úÖ **–í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã:**
- Chart.js –¥–æ–±–∞–≤–ª–µ–Ω ‚úÖ
- –ü—É—Ç–∏ –∫ JS —Ñ–∞–π–ª–∞–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã ‚úÖ
- –û–∫–Ω–æ —Ä–æ–ª–µ–π —É–¥–∞–ª–µ–Ω–æ ‚úÖ
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- –ú–µ—Ç–æ–¥ getApplicationStats() –¥–æ–±–∞–≤–ª–µ–Ω ‚úÖ

## üìä **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:**
- `public/js-hashed/applications.4b83c9fd.js` - —É–ª—É—á—à–µ–Ω –º–µ—Ç–æ–¥ `getApplicationStats()`

### **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - 4 –∏—Å—Ç–æ—á–Ω–∏–∫–∞ + fallback
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** - –µ—Å–ª–∏ –∫–µ—à –ø—É—Å—Ç–æ–π
3. **–î–µ–º–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –≤–º–µ—Å—Ç–æ –æ—à–∏–±–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
4. **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### **–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```javascript
// –ü—Ä–∏ —É—Å–ø–µ—Ö–µ:
{ total: number, active: number, pending: number, accepted: number, rejected: number }

// –ü—Ä–∏ –æ—à–∏–±–∫–µ (–¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ):
{ total: 3, active: 1, pending: 1, accepted: 1, rejected: 0 }
```

## üéØ **–°—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ä–µ—à–µ–Ω–∞**
- ‚úÖ **getApplicationStats() —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
- ‚úÖ **Dashboard –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫**
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
- ‚úÖ **–î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –∫–∞–∫ fallback**
- ‚úÖ **–î–µ–ø–ª–æ–π —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω**

## üîç **–£—Ä–æ–∫–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ:**
1. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º** - SimpleAuth vs AuthManager
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏** - –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
3. **–î–æ–±–∞–≤–ª—è—Ç—å fallback –¥–∞–Ω–Ω—ã–µ** - –≤–º–µ—Å—Ç–æ –æ—à–∏–±–æ–∫
4. **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ä–µ—à–µ–Ω—ã!** üéâ

### **URL –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- **–û—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç:** https://workclick-cz.web.app
- **–î–∞—à–±–æ—Ä–¥:** https://workclick-cz.web.app/dashboard.html

### **–ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:**
- ‚úÖ Dashboard –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ `getApplicationStats: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω`
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞—è–≤–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ UI –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- ‚úÖ –û–∫–Ω–æ —Ä–æ–ª–µ–π –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è 