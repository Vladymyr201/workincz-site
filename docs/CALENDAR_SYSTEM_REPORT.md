# Система календаря событий

## Обзор

Система календаря событий представляет собой комплексное решение для планирования и управления событиями на платформе WorkInCZ. Включает различные виды отображения, управление событиями, напоминания и интеграцию с внешними календарями.

## Архитектура системы

### Основные компоненты

1. **CalendarSystem** - ядро системы календаря
2. **CalendarUI** - пользовательский интерфейс календаря

### Технологический стек

- **JavaScript ES6+** - основной язык разработки
- **localStorage** - хранение данных календаря
- **CSS3 с Tailwind** - стилизация компонентов
- **iCal формат** - экспорт событий
- **Web Notifications API** - push уведомления

## Функциональность

### CalendarSystem

#### Категории событий:
1. **interview** - Собеседования с работодателями
2. **meeting** - Встречи с рекрутерами и HR
3. **deadline** - Дедлайны подачи заявок и документов
4. **test** - Тестовые задания и экзамены
5. **start_date** - Даты начала работы
6. **holiday** - Праздники и выходные
7. **platform_event** - События и акции платформы
8. **personal** - Личные события и заметки

#### Ключевые методы:
```javascript
// Создание события
createEvent(eventData)

// Создание собеседования
createInterview(interviewData)

// Создание встречи
createMeeting(meetingData)

// Создание дедлайна
createDeadline(deadlineData)

// Получение событий для периода
getEventsForPeriod(startDate, endDate, calendarIds)

// Получение событий для дня
getEventsForDay(date)

// Получение событий для недели
getEventsForWeek(date)

// Получение событий для месяца
getEventsForMonth(date)
```

### Типы событий

#### Собеседования:
- **Название**: "Собеседование: [Позиция]"
- **Описание**: Автоматически генерируется
- **Категория**: interview
- **Напоминания**: 30 минут и 1 час до события
- **Приоритет**: высокий

#### Встречи:
- **Название**: Пользовательское
- **Описание**: Пользовательское
- **Категория**: meeting
- **Напоминания**: 15 минут и 30 минут до события
- **Приоритет**: средний

#### Дедлайны:
- **Название**: "Дедлайн: [Название]"
- **Описание**: Пользовательское
- **Категория**: deadline
- **Напоминания**: 1 час, 1 день и 2 дня до события
- **Приоритет**: высокий
- **Весь день**: да

### CalendarUI

#### Виды отображения:
1. **Месячный вид** - классический календарь по месяцам
2. **Недельный вид** - детальное отображение недели по часам
3. **Дневной вид** - подробное отображение одного дня
4. **Список событий** - хронологический список всех событий

#### Компоненты интерфейса:
- **Панель инструментов** - навигация и переключение видов
- **Календарная сетка** - отображение дней и событий
- **Модальное окно события** - добавление и редактирование
- **Детали события** - просмотр информации о событии

#### Функции:
- Навигация по месяцам/неделям/дням
- Переключение между видами отображения
- Добавление новых событий
- Просмотр деталей событий
- Редактирование и удаление событий
- Переход к сегодняшнему дню

## Система напоминаний

### Типы напоминаний:
- **push** - Push уведомления в браузере
- **email** - Email уведомления
- **sms** - SMS уведомления (опционально)
- **telegram** - Telegram уведомления (опционально)

### Времена напоминаний:
- **15 минут** - для встреч
- **30 минут** - для собеседований и встреч
- **1 час** - для собеседований и дедлайнов
- **1 день** - для дедлайнов
- **2 дня** - для дедлайнов

### Настройки уведомлений:
- Включение/отключение типов уведомлений
- Настройка времени напоминаний
- Тихие часы (22:00 - 08:00)
- Персональные настройки для каждого пользователя

## Повторяющиеся события

### Поддерживаемые частоты:
- **DAILY** - ежедневно
- **WEEKLY** - еженедельно
- **MONTHLY** - ежемесячно
- **YEARLY** - ежегодно

### Правила повторения (RRULE):
- **FREQ** - частота повторения
- **INTERVAL** - интервал между повторениями
- **COUNT** - количество повторений
- **UNTIL** - дата окончания

### Примеры правил:
```
FREQ=DAILY;INTERVAL=1;COUNT=7
FREQ=WEEKLY;INTERVAL=2;COUNT=10
FREQ=MONTHLY;INTERVAL=1;COUNT=12
```

## Интеграция с внешними календарями

### Поддерживаемые платформы:
1. **Google Calendar** - полная интеграция
2. **Outlook Calendar** - полная интеграция
3. **Apple Calendar** - полная интеграция

### Функции интеграции:
- Синхронизация событий
- Экспорт в iCal формат
- Импорт из внешних календарей
- Двусторонняя синхронизация

### iCal экспорт:
- Поддержка стандарта RFC 5545
- Совместимость с большинством календарных приложений
- Экспорт отдельных событий или периодов
- Автоматическое обновление при изменениях

## Управление календарями

### Типы календарей:
1. **Основной календарь** - общие события
2. **Рабочий календарь** - рабочие события
3. **Личный календарь** - личные события

### Функции календарей:
- Создание пользовательских календарей
- Настройка цветов календарей
- Включение/отключение отображения
- Установка календаря по умолчанию

## UI компоненты

### Плавающая кнопка:
- Расположение: правый нижний угол (рядом с подписками)
- Иконка: календарь
- Функция: открытие календаря

### Модальное окно календаря:
- Панель инструментов с навигацией
- Переключение видов отображения
- Основная область календаря
- Кнопка добавления событий

### Навигация:
- Добавлена кнопка календаря в навигацию
- Быстрый доступ к календарю

### Форма добавления события:
- Название и описание
- Выбор категории
- Дата и время начала/окончания
- Местоположение
- Опция "весь день"

## Виды отображения

### Месячный вид:
- Сетка 7x6 дней
- Отображение событий в ячейках дней
- Цветовая индикация категорий
- Ограничение количества отображаемых событий
- Индикация сегодняшнего дня

### Недельный вид:
- Сетка 8x13 (время + 7 дней)
- Временные слоты по часам
- Детальное отображение событий
- Индикация сегодняшнего дня
- Возможность клика по событиям

### Дневной вид:
- Список событий дня
- Время начала и окончания
- Полная информация о событиях
- Возможность редактирования
- Индикация пустого дня

### Список событий:
- Хронологический список всех событий
- Сортировка по дате
- Фильтрация по категориям
- Поиск по названию
- Пагинация для больших списков

## Безопасность и производительность

### Безопасность:
- Валидация данных событий
- Проверка прав доступа
- Защита от XSS атак
- Безопасное хранение данных

### Производительность:
- Ленивая загрузка событий
- Кэширование данных
- Оптимизация рендеринга
- Ограничение количества отображаемых событий

### Обработка ошибок:
- Graceful degradation
- Fallback значения
- Логирование ошибок
- Автоматическое восстановление

## Тестирование и демо-режим

### Тестовый режим:
- Создание тестовых событий
- Демонстрация всех видов отображения
- Тестирование напоминаний
- Проверка интеграций

### Демо-функции:
- Отображение всех типов событий
- Тестирование навигации
- Демонстрация форм
- Просмотр статистики

## Планы развития

### Краткосрочные цели:
1. **Расширение интеграций** - дополнительные календарные сервисы
2. **Улучшение UI** - более современный дизайн
3. **A/B тестирование** - тестирование различных интерфейсов
4. **Оптимизация производительности** - улучшение скорости

### Долгосрочные цели:
1. **Machine Learning** - умные напоминания и рекомендации
2. **Predictive Analytics** - предсказание конфликтов событий
3. **Multi-language Support** - поддержка разных языков
4. **Advanced AI Features** - автоматическое планирование

### Интеграции:
1. **External Calendar APIs** - расширенные интеграции
2. **Video Conferencing** - интеграция с Zoom, Teams, Meet
3. **Task Management** - интеграция с Todoist, Asana
4. **CRM Systems** - интеграция с CRM для управления клиентами

## Заключение

Система календаря событий представляет собой мощное решение для планирования и управления событиями на платформе WorkInCZ. Гибкие виды отображения, интеграция с внешними календарями и система напоминаний создают удобный инструмент для планирования карьеры.

### Ключевые преимущества:
- **Множественные виды отображения** - месяц, неделя, день, список
- **Категоризация событий** - 8 типов событий с цветовой индикацией
- **Система напоминаний** - push, email, SMS, Telegram
- **Интеграция с календарями** - Google, Outlook, Apple
- **Повторяющиеся события** - поддержка RRULE
- **Интерактивный UI** - удобное управление событиями
- **Экспорт в iCal** - совместимость с внешними приложениями
- **Тестовый режим** - демонстрация функциональности

### Готовность к продакшену:
- Все системы протестированы
- Демо-режимы работают корректно
- Документация обновлена
- Код оптимизирован
- Безопасность обеспечена

Система готова к развертыванию на платформе WorkInCZ и значительно улучшит планирование карьеры пользователей с высоким уровнем удобства и функциональности. 