<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé≠ –¢–µ—Å—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–æ–ª–µ–π - WorkClick.cz</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <!-- Firebase Config -->
    <script src="js/firebase-config.js"></script>
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        .role-card { transition: all 0.3s ease; }
        .role-card:hover { transform: translateY(-2px); }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    
    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <h1 class="text-2xl font-bold text-gray-900">üé≠ –¢–µ—Å—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–æ–ª–µ–π</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <div id="current-user-info" class="text-sm text-gray-600">
                        –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
                    </div>
                    <button id="logout-btn" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 hidden">
                        –í—ã–π—Ç–∏
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Welcome Section -->
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900 mb-4">
                –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ä–æ–ª–µ–π
            </h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–æ–ª—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. 
                –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É üé≠ –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–æ–ª–µ–π.
            </p>
        </div>

        <!-- Role Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
            
            <!-- –°–æ–∏—Å–∫–∞—Ç–µ–ª—å -->
            <div class="role-card bg-blue-50 border border-blue-200 rounded-lg p-6">
                <div class="text-center">
                    <div class="text-4xl mb-4">üîπ</div>
                    <h3 class="text-xl font-semibold text-blue-900 mb-2">–°–æ–∏—Å–∫–∞—Ç–µ–ª—å</h3>
                    <p class="text-blue-700 mb-4">–ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∞–∫–∞–Ω—Å–∏–π, –ø–æ–¥–∞—á–∞ –∑–∞—è–≤–æ–∫, —á–∞—Ç —Å —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è–º–∏</p>
                    <div class="text-sm text-blue-600">
                        <strong>Email:</strong> test-candidate@workclick.cz<br>
                        <strong>–ü–∞—Ä–æ–ª—å:</strong> test1234
                    </div>
                </div>
            </div>

            <!-- –†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å -->
            <div class="role-card bg-green-50 border border-green-200 rounded-lg p-6">
                <div class="text-center">
                    <div class="text-4xl mb-4">üü¢</div>
                    <h3 class="text-xl font-semibold text-green-900 mb-2">–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å</h3>
                    <p class="text-green-700 mb-4">–†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞–º–∏, —á–∞—Ç</p>
                    <div class="text-sm text-green-600">
                        <strong>Email:</strong> test-employer@workclick.cz<br>
                        <strong>–ü–∞—Ä–æ–ª—å:</strong> test1234
                    </div>
                </div>
            </div>

            <!-- –ê–≥–µ–Ω—Ç—Å—Ç–≤–æ -->
            <div class="role-card bg-yellow-50 border border-yellow-200 rounded-lg p-6">
                <div class="text-center">
                    <div class="text-4xl mb-4">üü°</div>
                    <h3 class="text-xl font-semibold text-yellow-900 mb-2">–ê–≥–µ–Ω—Ç—Å—Ç–≤–æ</h3>
                    <p class="text-yellow-700 mb-4">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏, –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –¥–æ—Ö–æ–¥—ã</p>
                    <div class="text-sm text-yellow-600">
                        <strong>Email:</strong> test-agency@workclick.cz<br>
                        <strong>–ü–∞—Ä–æ–ª—å:</strong> test1234
                    </div>
                </div>
            </div>

            <!-- –ê–¥–º–∏–Ω -->
            <div class="role-card bg-red-50 border border-red-200 rounded-lg p-6">
                <div class="text-center">
                    <div class="text-4xl mb-4">üî¥</div>
                    <h3 class="text-xl font-semibold text-red-900 mb-2">–ê–¥–º–∏–Ω</h3>
                    <p class="text-red-700 mb-4">–ú–æ–¥–µ—Ä–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</p>
                    <div class="text-sm text-red-600">
                        <strong>Email:</strong> test-admin@workclick.cz<br>
                        <strong>–ü–∞—Ä–æ–ª—å:</strong> test1234
                    </div>
                </div>
            </div>
        </div>

        <!-- Instructions -->
        <div class="bg-white rounded-lg shadow-sm border p-6">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</h3>
            <div class="space-y-3 text-gray-700">
                <div class="flex items-start">
                    <span class="text-blue-500 mr-3">1.</span>
                    <span>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É üé≠ –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É —ç–∫—Ä–∞–Ω–∞</span>
                </div>
                <div class="flex items-start">
                    <span class="text-blue-500 mr-3">2.</span>
                    <span>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è</span>
                </div>
                <div class="flex items-start">
                    <span class="text-blue-500 mr-3">3.</span>
                    <span>–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–π–¥—ë—Ç –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ä–æ–ª—å—é</span>
                </div>
                <div class="flex items-start">
                    <span class="text-blue-500 mr-3">4.</span>
                    <span>–í—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –¥–∞—à–±–æ—Ä–¥</span>
                </div>
                <div class="flex items-start">
                    <span class="text-blue-500 mr-3">5.</span>
                    <span>–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–µ–∂–¥—É —Ä–æ–ª—è–º–∏ (–æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç–≤–µ—Ç—ã –∏ —Ç.–¥.)</span>
                </div>
            </div>
        </div>

        <!-- Current Status -->
        <div class="mt-8 bg-white rounded-lg shadow-sm border p-6">
            <h3 class="text-xl font-semibold text-gray-900 mb-4">üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å</h3>
            <div id="status-info" class="text-gray-700">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <strong>–°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:</strong> 
                        <span id="auth-status" class="text-red-500">–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω</span>
                    </div>
                    <div>
                        <strong>–¢–µ–∫—É—â–∞—è —Ä–æ–ª—å:</strong> 
                        <span id="current-role" class="text-gray-500">-</span>
                    </div>
                    <div>
                        <strong>Email:</strong> 
                        <span id="current-email" class="text-gray-500">-</span>
                    </div>
                    <div>
                        <strong>UID:</strong> 
                        <span id="current-uid" class="text-gray-500">-</span>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Scripts -->
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        const firebaseConfig = window.loadFirebaseConfig();
        firebase.initializeApp(firebaseConfig);
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–∏—Å—Ç–µ–º—ã
        const loadScript = (src) => {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = resolve;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        };

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–∏—Å—Ç–µ–º—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
        Promise.all([
            loadScript('js-hashed/test-auth-system.js'),
            loadScript('js-hashed/role-switcher.js')
        ]).then(() => {
            console.log('‚úÖ –í—Å–µ —Å–∏—Å—Ç–µ–º—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
            initTestPage();
        }).catch(error => {
            console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º:', error);
        });

        function initTestPage() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
            function updateUserInfo() {
                const user = window.testAuthSystem?.getCurrentUser();
                const profile = window.testAuthSystem?.getCurrentProfile();
                
                const authStatus = document.getElementById('auth-status');
                const currentRole = document.getElementById('current-role');
                const currentEmail = document.getElementById('current-email');
                const currentUid = document.getElementById('current-uid');
                const userInfo = document.getElementById('current-user-info');
                const logoutBtn = document.getElementById('logout-btn');
                
                if (user) {
                    authStatus.textContent = '–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω';
                    authStatus.className = 'text-green-500';
                    currentEmail.textContent = user.email;
                    currentUid.textContent = user.uid;
                    currentRole.textContent = profile?.role || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
                    userInfo.textContent = `${profile?.name || user.email} (${profile?.role || 'unknown'})`;
                    logoutBtn.classList.remove('hidden');
                } else {
                    authStatus.textContent = '–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω';
                    authStatus.className = 'text-red-500';
                    currentEmail.textContent = '-';
                    currentUid.textContent = '-';
                    currentRole.textContent = '-';
                    userInfo.textContent = '–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω';
                    logoutBtn.classList.add('hidden');
                }
            }

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã—Ö–æ–¥–∞
            document.getElementById('logout-btn').addEventListener('click', async () => {
                if (window.testAuthSystem) {
                    await window.testAuthSystem.signOut();
                    updateUserInfo();
                }
            });

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
            setInterval(updateUserInfo, 2000);
            updateUserInfo();
        }
    </script>

</body>
</html> 